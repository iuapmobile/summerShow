!function(){function e(){var e=Math.max(c.height()-r.height(),30);d.css("min-height",e),d.find(".CodeMirror").css("height",e>30?e:"inherit")}function o(e,o){var t=document.createElement("div");return t.appendChild(document.createTextNode(o)),$(t).addClass("output-"+e),t}var t=CodeMirror(document.getElementById("code_console"),{value:"console.log('可以在这里进行实时调试，输入代码后按Enter执行。')",mode:"javascript"}),n=document.getElementById("js_iframe");t.setOption("extraKeys",{Enter:function(){var e=t.getValue();e.length>0&&(setIFrameResult("code",e),n.contentWindow.Konsole.exec(e))}}),$("#code_run").on("refresh",function(){n=document.getElementById("js_iframe")}),$("#code_clear").on("click",function(o){o.preventDefault(),$("#output").empty(),e()});var c=$("#js_console"),r=$("#output"),d=c.find(".content"),u=$("#console_wrapper"),i=($("#console_wrapper .code_head"),$("#code_core .code_body"));e(),window.setIFrameResult=function(n,r){$("#output").append(o(n,r)),e(),c.scrollTop(c.height()),t.setValue("")};var a={};$("body").on("mousedown","#console_wrapper .code_head",function(e){e.preventDefault(),a.down=!0,a.top=u[0].offsetTop,a.y=e.clientY}).on("mousemove",function(o){if(a.down){var t=o.clientY,n=a.top-(a.y-t),c=$("#code_core").height(),r=Math.round(1e6*(c-n)/c)/1e4;r>80||r<20||(u.css("height",r+"%"),i.css("bottom",r+"%"),e())}}).on("mouseup",function(){delete a.down})}();