!function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="./",t(0)}([function(e,t,r){r(2),r(4),r(3),r(5)},,function(e,t){window._common_dir=window._common_dir||"/wp-content/themes/apiwebsite/static/dist/common/",navigator.sayswho=function(){var e,t=navigator.userAgent,r=t.match(/(dingtalk|micromessenger)/i)||[],o=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(o[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===o[1]&&(e=t.match(/\b(OPR|Edge)\/(\d+)/),null!=e)?e.slice(1).join(" ").replace("OPR","Opera"):(o=o[2]?[o[1],o[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&0==r.length&&o.splice(1,1,e[1]),o.join(" "))}(),Date.prototype.Format=function(e){var t=e,r=["日","一","二","三","四","五","六"];return t=t.replace(/yyyy|YYYY/,this.getFullYear()),t=t.replace(/yy|YY/,this.getYear()%100>9?(this.getYear()%100).toString():"0"+this.getYear()%100),t=t.replace(/MM/,this.getMonth()>9?this.getMonth().toString():"0"+this.getMonth()),t=t.replace(/M/g,this.getMonth()),t=t.replace(/w|W/g,r[this.getDay()]),t=t.replace(/dd|DD/,this.getDate()>9?this.getDate().toString():"0"+this.getDate()),t=t.replace(/d|D/g,this.getDate()),t=t.replace(/hh|HH/,this.getHours()>9?this.getHours().toString():"0"+this.getHours()),t=t.replace(/h|H/g,this.getHours()),t=t.replace(/mm/,this.getMinutes()>9?this.getMinutes().toString():"0"+this.getMinutes()),t=t.replace(/m/g,this.getMinutes()),t=t.replace(/ss|SS/,this.getSeconds()>9?this.getSeconds().toString():"0"+this.getSeconds()),t=t.replace(/s|S/g,this.getSeconds())},window.browserAlert={target:{},browser:navigator.sayswho.split(" ")[0].toLowerCase(),version:navigator.sayswho.split(" ")[1],requirement:["ie999","chrome30"],dom:'<div id="browser_alert" class="browser_alert browser_alert_hidden"><div class="browser_alert_title">您的浏览器版本过低</div><div class="browser_alert_content">为了更好的浏览体验，建议您使用以下现代浏览器的最新版本</div><div class="browser_alert_recommend"><a target="_blank" href="http://pc.uc.cn/" class="browser_alert_uc" title="UC浏览器"></a><a target="_blank" href="https://www.google.com/chrome/" class="browser_alert_chrome" title="Chrome"></a><a target="_blank" href="http://www.apple.com/safari/" class="browser_alert_safari browser_alert_none" title="Safari"></a><a target="_blank" href="http://www.mozilla.org/firefox" class="browser_alert_firefox" title="Firefox"></a></div><a href="javascript:browserAlert.hide(0);" class="ok_got_it">我知道了</a></div>',init:function(e){var t=this;t.css(),$('head link[href$="browser_alert.css"]').load(function(){t.core()})},css:function(){var e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=_common_dir+"/css/browser_alert.css",document.getElementsByTagName("head")[0].appendChild(e)},core:function(){var e=this,t=t?t:e.requirement;e.browser="msie"==e.browser?"ie":e.browser;for(var r in t){var o=t[r];if(0==o.indexOf(e.browser)){var n=parseInt(o.replace(e.browser,""));return e.version<n&&($("body").append(e.dom),e.target=$("#browser_alert"),(navigator.userAgent.indexOf("Mac OS X")>0||navigator.userAgent.indexOf("macOS")>0)&&e.target.find(".browser_alert_safari").removeClass("browser_alert_none"),e.alert()),!0}}},hide:function(){var e=this;e.target.addClass("browser_alert_hidden")},judgment:function(){try{var e=window.localStorage,t=new Date,r=e?e.getItem("browserAlert"):null;return t=t.Format("YYYYMMdd"),r?r!=t&&(e.setItem("browserAlert",t),!0):(e.setItem("browserAlert",t),!0)}catch(o){return!0}},alert:function(){var e=this;e.judgment()&&e.target.removeClass("browser_alert_hidden")}},browserAlert.init()},function(e,t){Date.prototype.isLeapYear=function(){return 0==this.getYear()%4&&(this.getYear()%100!=0||this.getYear()%400==0)},Date.prototype.Format=function(e){var t=e,r=["日","一","二","三","四","五","六"];return t=t.replace(/yyyy|YYYY/,this.getFullYear()),t=t.replace(/yy|YY/,this.getYear()%100>9?(this.getYear()%100).toString():"0"+this.getYear()%100),t=t.replace(/MM/,this.getMonth()>9?this.getMonth().toString():"0"+(this.getMonth()+1)),t=t.replace(/M/g,this.getMonth()+1),t=t.replace(/w|W/g,r[this.getDay()]),t=t.replace(/dd|DD/,this.getDate()>9?this.getDate().toString():"0"+this.getDate()),t=t.replace(/d|D/g,this.getDate()),t=t.replace(/hh|HH/,this.getHours()>9?this.getHours().toString():"0"+this.getHours()),t=t.replace(/h|H/g,this.getHours()),t=t.replace(/mm/,this.getMinutes()>9?this.getMinutes().toString():"0"+this.getMinutes()),t=t.replace(/m/g,this.getMinutes()),t=t.replace(/ss|SS/,this.getSeconds()>9?this.getSeconds().toString():"0"+this.getSeconds()),t=t.replace(/s|S/g,this.getSeconds())},Date.prototype.DateAdd=function(e,t){var r=this;switch(e){case"s":return new Date(Date.parse(r)+1e3*t);case"n":return new Date(Date.parse(r)+6e4*t);case"h":return new Date(Date.parse(r)+36e5*t);case"d":return new Date(Date.parse(r)+864e5*t);case"w":return new Date(Date.parse(r)+6048e5*t);case"q":return new Date(r.getFullYear(),r.getMonth()+3*t,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds());case"m":return new Date(r.getFullYear(),r.getMonth()+t,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds());case"y":return new Date(r.getFullYear()+t,r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds())}},Date.prototype.DateDiff=function(e,t){var r=this;switch("string"==typeof t&&(t=StringToDate(t)),e){case"s":return parseInt((t-r)/1e3);case"n":return parseInt((t-r)/6e4);case"h":return parseInt((t-r)/36e5);case"d":return parseInt((t-r)/864e5);case"w":return parseInt((t-r)/6048e5);case"m":return t.getMonth()+1+12*(t.getFullYear()-r.getFullYear())-(r.getMonth()+1);case"y":return t.getFullYear()-r.getFullYear()}},Date.prototype.toStrings=function(e){var t=this,r=t.toLocaleDateString();if(e){var o=["日","一","二","三","四","五","六"];r+=" 星期"+o[t.getDay()]}return r},Date.prototype.toArray=function(){var e=this,t=Array();return t[0]=e.getFullYear(),t[1]=e.getMonth(),t[2]=e.getDate(),t[3]=e.getHours(),t[4]=e.getMinutes(),t[5]=e.getSeconds(),t},Date.prototype.DatePart=function(e){var t=this,r="",o=["日","一","二","三","四","五","六"];switch(e){case"y":r=t.getFullYear();break;case"m":r=t.getMonth()+1;break;case"d":r=t.getDate();break;case"w":r=o[t.getDay()];break;case"ww":r=t.WeekNumOfYear();break;case"h":r=t.getHours();break;case"n":r=t.getMinutes();break;case"s":r=t.getSeconds()}return r}},function(e,t){$(function(){r.init()});var r=window.oLoginMod={oAccount:$("#account"),oLogin:$("#login"),oNotLogged:$("#not_logged"),init:function(){r.login()},logout:function(){$.ajax({url:"/dev/api/fBrowLogout",type:"get",data:"",success:function(e){if(!window.oLogoutGoHome);var t=window.location.href.replace("http://","").split("/")[1];("console"==t||window.oLogoutGoHome)&&(window.top.location.href="/"),r.oAccount.html(""),r.oLogin.hide(),r.oNotLogged.show()},error:function(e){}})},login:function(e){$.ajax({url:"/dev/home/get-user-info",type:"get",data:{external_url:"/dev",_t:(new Date).getTime()},dataType:"json",success:function(t){if(0==t.code){var o=t.data,n=o.name;""==o.name?n=o.account:null,r.oAccount.html(n),r.oLogin.show(),r.oNotLogged.hide(),0!=o.ticket?r.oLogin.addClass("has_ticket"):r.oLogin.removeClass("has_ticket"),window.isLogin=!0,1==o.type?$("#login_be_dev").removeClass("inlie_block"):$("#login_be_dev").addClass("inlie_block"),e&&e(o)}else r.oAccount.html(""),r.oLogin.hide().removeClass("has_ticket"),r.oNotLogged.show(),$("#login_be_dev").addClass("inlie_block")},error:function(e){}})}};$(function(){var e=new Date,t=(e.Format("YYYY-MM-dd HH:mm:ss"),window.passport||{});t.load&&t.load(function(){var e=t.show;t.show=function(t,r){$("body,html").css("overflow-y","hidden"),e(t,r)},t.onHide=function(){$("body,html").css("overflow-y","auto")},$("#login_be_dev").on("click",function(e){e.preventDefault(),window.isLogin?location.href="http://lbs.amap.com/dev/register":t.show({showMask:!0,message:{type:"info",content:"成为开发者前请先登录高德账号"}},function(){r.login(function(e){1!==e.type&&(location.href="http://lbs.amap.com/dev/register")})})}),$(".need_passport").on("click",function(e){e.preventDefault();var r=$(this),o=r.attr("href");window.isLogin?location.href=o:t.show({},function(){location.href=o})}),$("#login_a").on("click",function(e){e.preventDefault(),window.isLogin?location.href=location.href:t.show({},function(){r.login()})}),$("#login_console").on("click",function(e){e.preventDefault(),window.isLogin?location.href="/dev":t.show({showMask:!0,message:{type:"info",content:"使用控制台前请先登录"}},function(){r.login(function(e){location.href="/dev"})})}),window.isLogin||location.search.indexOf("login=true")===-1||t.show({},function(){r.login()})})})},function(e,t){var r={place:"normal",input:$("#s"),dom:$("#search_bar"),url:"/dev/search?s=",hideAble:!0,focus:!1,sugIndex:0,sugCurrent:-1,prevent:["#logo","#slick a"],init:function(){var e=this;e.dom.hasClass("search_result_page")&&(e.place="result_page"),e.bind()},bind:function(){var e=this;e.css(),e.dom.find(".search_bottom").hover(function(){e.hideAble=!1,e.sugCurrent=-1,e.dom.find(".search_sug a.current").removeClass("current")},function(){e.hideAble=!0}),e.input.focus(function(){var t=$(this),r=t.val();return!e.focus&&(""!=r&&e.sug(r),$(e.prevent.join(",")).bind("click",e.preventDefault),e.dom.parent().addClass("nav_hide"),e.focus=!0,e.dom.addClass("current"),e.history(),void e.hotWords())}).blur(function(){$(this);return!!e.hideAble&&(e.focus=!1,setTimeout(function(){$(e.prevent.join(",")).unbind("click",e.preventDefault)},200),e.dom.parent().removeClass("nav_hide"),void e.dom.removeClass("current").find(".search_bottom").removeClass("ok").empty())}).on("input propertychange",function(){var t=$(this),r=t.val().trim();e.sug(r)}).keydown(function(t){e.keydown(t.which)}),e.dom.delegate(".search_delete","click",function(){e.deleteHistory(this)});var t=window.navigator.userAgent.indexOf("Chrome")!==-1;t||(e.dom.delegate("a","click",function(t){e.reset()}),e.dom.find("form").submit(function(){e.reset()}))},reset:function(){var e=this;e.focus=!1,e.dom.removeClass("current").find(".search_bottom").empty().removeClass("ok").end().parent().removeClass("nav_hide"),e.input.blur()},css:function(){var e=this,t=e.dom.width(),r=e.dom.parent().width(),o=r-t+15;"normal"==e.place&&e.dom.css({width:r+15,marginLeft:-o})},preventDefault:function(e){e.preventDefault()},sug:function(e){var t=this,r=t.dom.find(".search_bottom"),o='<div class="search_sug">';return t.sugIndex++,""==e?(r.removeClass("ok").empty(),t.history(),t.hotWords(),!1):void $.ajax({url:"/dev/search/sug",type:"get",data:{sig:t.sugIndex,words:encodeURIComponent(e)},dataType:"json",success:function(n){if(!n||0!=n.code)return!1;if(n.data.sig<t.sugIndex)return!1;if(!t.dom.hasClass("current"))return!1;if(0==n.data.list.length)o+='<div class="search_default">按下回车键搜索';else{var a=n.data.list;for(var s in a){if(s>=5)return!1;var i=a[s],c=i.replace(e,'<span class="search_highlight">'+e+"</span>");o+='<a href="'+t.url+encodeURIComponent(i)+'">'+c+"</a>"}}o+="</div>",r.empty().append(o).addClass("ok")},error:function(e){o+='<div class="search_default">按下回车键搜索</div>',r.empty().append(o).addClass("ok")}})},keydown:function(e){var t=this,r=t.dom.find(".search_sug a");t.sugCurrent;if(r.length<=0)return!1;if(40==e)t.sugCurrent++,t.sugCurrent>=r.length&&(t.sugCurrent=0);else{if(38!=e)return!1;t.sugCurrent--,t.sugCurrent<0&&(t.sugCurrent=r.length-1)}r.eq(t.sugCurrent).addClass("current").siblings().removeClass("current"),t.input.val(r.eq(t.sugCurrent).text())},HTMLEncode:function(e){var t="";return 0==e.length?"":(t=e.replace(/&/g,"&gt;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/ /g,"&nbsp;"),t=t.replace(/\'/g,"&#39;"),t=t.replace(/\"/g,"&quot;"),t=t.replace(/\n/g,"<br>"))},HTMLDecode:function(e){var t="";return 0==e.length?"":(t=e.replace(/&gt;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&nbsp;/g," "),t=t.replace(/&#39;/g,"'"),t=t.replace(/&quot;/g,'"'),t=t.replace(/<br>/g,"\n"))},history:function(){var e=window.localStorage;if(!e)return!1;var t=e.getItem("searchHistory"),r=$.parseJSON(t);if(!r||0==r.length)return!1;var o=this,n=o.dom.find(".search_bottom"),a='<ul class="search_fieldset search_fieldset_history"><div class="search_legend">历史记录</div>';n.find(".search_fieldset_history").remove();for(var s in r)a+='<li><span class="search_delete">删除</span><a href="'+o.url+encodeURIComponent(r[s])+'">'+o.HTMLEncode(r[s])+"</a></li>";a+="</ul>",n.prepend(a)},deleteHistory:function(e){var t,r=this,o=$(e),n=o.parent("li").find("a").text(),a=window.localStorage,s=a.getItem("searchHistory");t=$.parseJSON(s);for(var i in t)t[i]==n&&t.splice(i,1);0==t.length&&r.dom.find(".search_fieldset_history").remove();var c=JSON.stringify(t);a.setItem("searchHistory",c),o.parent("li").remove()},hotWords:function(){var e=this,t=e.dom.find(".search_bottom"),r='<ul class="search_fieldset search_fieldset_hot"><div class="search_legend search_legend_border">热门推荐</div>';t.find(".search_fieldset_hot").remove(),$.ajax({url:"/dev/search/get-hot-words",type:"get",data:{},dataType:"json",success:function(o){if(!o||0!=o.code)return!1;if(!e.dom.hasClass("current")||""!=e.input.val())return!1;for(var n=0;n<=3;n++)r+='<li><a href="'+e.url+encodeURIComponent(o.data[n].words)+'">'+o.data[n].words+"<small>"+o.data[n].content+"</small></a></li>";r+="</ul>",t.find(".search_fieldset_hot").remove().end().append(r).addClass("ok")},error:function(e){console.log("search hot words error: ",e)}})}};r.init()}]);
//# sourceMappingURL=home.js.map